(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[481],{9177:function(e,t,n){"use strict";function r(e,t,n){n=n||{};var r=e.ownerDocument,i=r.defaultView.CustomEvent;"function"==typeof i?i=new i(t,{detail:n}):((i=r.createEvent("Event")).initEvent(t,!1,!1),i.detail=n),e.dispatchEvent(i)}function i(e){return Array.isArray(e)||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function a(e){return e===(0|e)+""}function o(e){let t=document.createElement("span");return t.className="observablehq--cellname",t.textContent=`${e} = `,t}n.d(t,{lj:function(){return eu},r_:function(){return nd}});let l=Symbol.prototype.toString;function s(e){return l.call(e)}let{getOwnPropertySymbols:u,prototype:{hasOwnProperty:c}}=Object,{toStringTag:d}=Symbol,f={};function h(e,t){return c.call(e,t)}function p(e){return e[d]||e.constructor&&e.constructor.name||"Object"}function m(e,t){try{let n=e[t];return n&&n.constructor,n}catch(r){return f}}let b=[{symbol:"@@__IMMUTABLE_INDEXED__@@",name:"Indexed",modifier:!0},{symbol:"@@__IMMUTABLE_KEYED__@@",name:"Keyed",modifier:!0},{symbol:"@@__IMMUTABLE_LIST__@@",name:"List",arrayish:!0},{symbol:"@@__IMMUTABLE_MAP__@@",name:"Map"},{symbol:"@@__IMMUTABLE_ORDERED__@@",name:"Ordered",modifier:!0,prefix:!0},{symbol:"@@__IMMUTABLE_RECORD__@@",name:"Record"},{symbol:"@@__IMMUTABLE_SET__@@",name:"Set",arrayish:!0,setish:!0},{symbol:"@@__IMMUTABLE_STACK__@@",name:"Stack",arrayish:!0}];function v(e){try{let t=b.filter(({symbol:t})=>!0===e[t]);if(!t.length)return;let n=t.find(e=>!e.modifier),r="Map"===n.name&&t.find(e=>e.modifier&&e.prefix),i=t.some(e=>e.arrayish),a=t.some(e=>e.setish);return{name:`${r?r.name:""}${n.name}`,symbols:t,arrayish:i&&!a,setish:a}}catch(o){return null}}let{getPrototypeOf:w,getOwnPropertyDescriptors:_}=Object,y=w({});function g(e,t,n,a){let l=i(e),s,u,c,d;e instanceof Map?e instanceof e.constructor?(s=`Map(${e.size})`,u=E):(s="Map()",u=q):e instanceof Set?e instanceof e.constructor?(s=`Set(${e.size})`,u=C):(s="Set()",u=q):l?(s=`${e.constructor.name}(${e.length})`,u=N):(d=v(e))?(s=`Immutable.${d.name}${"Record"===d.name?"":`(${e.size})`}`,l=d.arrayish,u=d.arrayish?j:d.setish?x:$):a?(s=p(e),u=T):(s=p(e),u=q);let f=document.createElement("span");f.className="observablehq--expanded",n&&f.appendChild(o(n));let h=f.appendChild(document.createElement("a"));h.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M4 7L0 1h8z' fill='currentColor' />
  </svg>`,h.appendChild(document.createTextNode(`${s}${l?" [":" {"}`)),h.addEventListener("mouseup",function(t){t.stopPropagation(),el(f,P(e,null,n,a))}),u=u(e);for(let m=0;!(c=u.next()).done&&m<20;++m)f.appendChild(c.value);if(!c.done){let b=f.appendChild(document.createElement("a"));b.className="observablehq--field",b.style.display="block",b.appendChild(document.createTextNode(`  … more`)),b.addEventListener("mouseup",function(e){e.stopPropagation(),f.insertBefore(c.value,f.lastChild.previousSibling);for(let t=0;!(c=u.next()).done&&t<19;++t)f.insertBefore(c.value,f.lastChild.previousSibling);c.done&&f.removeChild(f.lastChild.previousSibling),r(f,"load")})}return f.appendChild(document.createTextNode(l?"]":"}")),f}function*E(e){for(let[t,n]of e)yield S(t,n);yield*q(e)}function*C(e){for(let t of e)yield O(t);yield*q(e)}function*x(e){for(let t of e)yield O(t)}function*N(e){for(let t=0,n=e.length;t<n;++t)t in e&&(yield L(t,m(e,t),"observablehq--index"));for(let r in e)!a(r)&&h(e,r)&&(yield L(r,m(e,r),"observablehq--key"));for(let i of u(e))yield L(s(i),m(e,i),"observablehq--symbol")}function*j(e){let t=0;for(let n=e.size;t<n;++t)yield L(t,e.get(t),!0)}function*T(e){for(let t in _(e))yield L(t,m(e,t),"observablehq--key");for(let n of u(e))yield L(s(n),m(e,n),"observablehq--symbol");let r=w(e);r&&r!==y&&(yield A(r))}function*q(e){for(let t in e)h(e,t)&&(yield L(t,m(e,t),"observablehq--key"));for(let n of u(e))yield L(s(n),m(e,n),"observablehq--symbol");let r=w(e);r&&r!==y&&(yield A(r))}function*$(e){for(let[t,n]of e)yield L(t,n,"observablehq--key")}function A(e){let t=document.createElement("div"),n=t.appendChild(document.createElement("span"));return t.className="observablehq--field",n.className="observablehq--prototype-key",n.textContent="  <prototype>",t.appendChild(document.createTextNode(": ")),t.appendChild(eo(e,void 0,void 0,void 0,!0)),t}function L(e,t,n){let r=document.createElement("div"),i=r.appendChild(document.createElement("span"));return r.className="observablehq--field",i.className=n,i.textContent=`  ${e}`,r.appendChild(document.createTextNode(": ")),r.appendChild(eo(t)),r}function S(e,t){let n=document.createElement("div");return n.className="observablehq--field",n.appendChild(document.createTextNode("  ")),n.appendChild(eo(e)),n.appendChild(document.createTextNode(" => ")),n.appendChild(eo(t)),n}function O(e){let t=document.createElement("div");return t.className="observablehq--field",t.appendChild(document.createTextNode("  ")),t.appendChild(eo(e)),t}function k(e){let t=window.getSelection();return"Range"===t.type&&(t.containsNode(e,!0)||t.anchorNode.isSelfOrDescendant(e)||t.focusNode.isSelfOrDescendant(e))}function P(e,t,n,r){let a=i(e),l,s,u,c;if(e instanceof Map?e instanceof e.constructor?(l=`Map(${e.size})`,s=M):(l="Map()",s=F):e instanceof Set?e instanceof e.constructor?(l=`Set(${e.size})`,s=R):(l="Set()",s=F):a?(l=`${e.constructor.name}(${e.length})`,s=D):(c=v(e))?(l=`Immutable.${c.name}${"Record"===c.name?"":`(${e.size})`}`,a=c.arrayish,s=c.arrayish?U:c.setish?I:B):(l=p(e),s=F),t){let d=document.createElement("span");return d.className="observablehq--shallow",n&&d.appendChild(o(n)),d.appendChild(document.createTextNode(l)),d.addEventListener("mouseup",function(t){k(d)||(t.stopPropagation(),el(d,P(e)))}),d}let f=document.createElement("span");f.className="observablehq--collapsed",n&&f.appendChild(o(n));let h=f.appendChild(document.createElement("a"));h.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M7 4L1 8V0z' fill='currentColor' />
  </svg>`,h.appendChild(document.createTextNode(`${l}${a?" [":" {"}`)),f.addEventListener("mouseup",function(t){k(f)||(t.stopPropagation(),el(f,g(e,null,n,r)))},!0),s=s(e);for(let m=0;!(u=s.next()).done&&m<20;++m)m>0&&f.appendChild(document.createTextNode(", ")),f.appendChild(u.value);return u.done||f.appendChild(document.createTextNode(", …")),f.appendChild(document.createTextNode(a?"]":"}")),f}function*M(e){for(let[t,n]of e)yield W(t,n);yield*F(e)}function*R(e){for(let t of e)yield eo(t,!0);yield*F(e)}function*I(e){for(let t of e)yield eo(t,!0)}function*U(e){let t=-1,n=0;for(let r=e.size;n<r;++n)n>t+1&&(yield z(n-t-1)),yield eo(e.get(n),!0),t=n;n>t+1&&(yield z(n-t-1))}function*D(e){let t=-1,n=0;for(let r=e.length;n<r;++n)n in e&&(n>t+1&&(yield z(n-t-1)),yield eo(m(e,n),!0),t=n);for(let i in n>t+1&&(yield z(n-t-1)),e)!a(i)&&h(e,i)&&(yield H(i,m(e,i),"observablehq--key"));for(let o of u(e))yield H(s(o),m(e,o),"observablehq--symbol")}function*F(e){for(let t in e)h(e,t)&&(yield H(t,m(e,t),"observablehq--key"));for(let n of u(e))yield H(s(n),m(e,n),"observablehq--symbol")}function*B(e){for(let[t,n]of e)yield H(t,n,"observablehq--key")}function z(e){let t=document.createElement("span");return t.className="observablehq--empty",t.textContent=1===e?"empty":`empty \xd7 ${e}`,t}function H(e,t,n){let r=document.createDocumentFragment(),i=r.appendChild(document.createElement("span"));return i.className=n,i.textContent=e,r.appendChild(document.createTextNode(": ")),r.appendChild(eo(t,!0)),r}function W(e,t){let n=document.createDocumentFragment();return n.appendChild(eo(e,!0)),n.appendChild(document.createTextNode(" => ")),n.appendChild(eo(t,!0)),n}function V(e,t){return`${e}`.padStart(t,"0")}var G=Error.prototype.toString,Y=RegExp.prototype.toString;function Z(e){return e.replace(/[\\`\x00-\x09\x0b-\x19]|\${/g,K)}function K(e){var t=e.charCodeAt(0);switch(t){case 8:return"\\b";case 9:return"\\t";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r"}return t<16?"\\x0"+t.toString(16):t<32?"\\x"+t.toString(16):"\\"+e}function J(e,t){for(var n=0;t.exec(e);)++n;return n}var X=Function.prototype.toString,Q={prefix:"async ƒ"},ee={prefix:"async ƒ*"},et={prefix:"class"},en={prefix:"ƒ"},er={prefix:"ƒ*"};function ei(e,t,n){var r=document.createElement("span");r.className="observablehq--function",n&&r.appendChild(o(n));var i=r.appendChild(document.createElement("span"));return i.className="observablehq--keyword",i.textContent=e.prefix,r.appendChild(document.createTextNode(t)),r}let{prototype:{toString:ea}}=Object;function eo(e,t,n,r,i){let a=typeof e;switch(a){case"boolean":case"undefined":e+="";break;case"number":e=0===e&&1/e<0?"-0":e+"";break;case"bigint":e+="n";break;case"symbol":e=s(e,r);break;case"function":return function(e,t){var n,r,i=X.call(e);switch(e.constructor&&e.constructor.name){case"AsyncFunction":n=Q;break;case"AsyncGeneratorFunction":n=ee;break;case"GeneratorFunction":n=er;break;default:n=/^class\b/.test(i)?et:en}return n===et?ei(n,"",t):(r=/^(?:async\s*)?(\w+)\s*=>/.exec(i))?ei(n,"("+r[1]+")",t):(r=/^(?:async\s*)?\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))||(r=/^(?:async\s*)?function(?:\s*\*)?(?:\s*\w+)?\s*\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?ei(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",t):ei(n,"(…)",t)}(e,r);case"string":return function(e,t,n,r){if(!1===t){if(J(e,/["\n]/g)<=J(e,/`|\${/g)){let i=document.createElement("span");r&&i.appendChild(o(r));let a=i.appendChild(document.createElement("span"));return a.className="observablehq--string",a.textContent=JSON.stringify(e),i}let l=e.split("\n");if(l.length>20&&!n){let s=document.createElement("div");r&&s.appendChild(o(r));let u=s.appendChild(document.createElement("span"));u.className="observablehq--string",u.textContent="`"+Z(l.slice(0,20).join("\n"));let c=s.appendChild(document.createElement("span")),d=l.length-20;return c.textContent=`Show ${d} truncated line${d>1?"s":""}`,c.className="observablehq--string-expand",c.addEventListener("mouseup",function(n){n.stopPropagation(),el(s,eo(e,t,!0,r))}),s}let f=document.createElement("span");r&&f.appendChild(o(r));let h=f.appendChild(document.createElement("span"));return h.className=`observablehq--string${n?" observablehq--expanded":""}`,h.textContent="`"+Z(e)+"`",f}let p=document.createElement("span");r&&p.appendChild(o(r));let m=p.appendChild(document.createElement("span"));return m.className="observablehq--string",m.textContent=JSON.stringify(e.length>100?`${e.slice(0,50)}…${e.slice(-49)}`:e),p}(e,t,n,r);default:var l,u;if(null===e){a=null,e="null";break}if(e instanceof Date){a="date",e=function(e,t){var n;if(e instanceof Date||(e=new Date(+e)),isNaN(e))return"function"==typeof t?t(e):t;let r=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),o=e.getUTCMilliseconds();return`${n=e.getUTCFullYear(),n<0?`-${V(-n,6)}`:n>9999?`+${V(n,6)}`:V(n,4)}-${V(e.getUTCMonth()+1,2)}-${V(e.getUTCDate(),2)}${r||i||a||o?`T${V(r,2)}:${V(i,2)}${a||o?`:${V(a,2)}${o?`.${V(o,3)}`:""}`:""}Z`:""}`}(e,"Invalid Date");break}if(e===f){a="forbidden",e="[forbidden]";break}switch(ea.call(e)){case"[object RegExp]":a="regexp",l=e,e=Y.call(l);break;case"[object Error]":case"[object DOMException]":a="error",e=(u=e).stack||G.call(u);break;default:return(n?g:P)(e,t,r,i)}}let c=document.createElement("span");r&&c.appendChild(o(r));let d=c.appendChild(document.createElement("span"));return d.className=`observablehq--${a}`,d.textContent=e,c}function el(e,t){e.classList.contains("observablehq--inspect")&&t.classList.add("observablehq--inspect"),e.parentNode.replaceChild(t,e),r(t,"load")}let es=/\s+\(\d+:\d+\)$/m;class eu{constructor(e){if(!e)throw Error("invalid node");this._node=e,e.classList.add("observablehq")}pending(){let{_node:e}=this;e.classList.remove("observablehq--error"),e.classList.add("observablehq--running")}fulfilled(e,t){var n;let{_node:i}=this;if(n=e,(n instanceof Element||n instanceof Text)&&n instanceof n.constructor&&(!e.parentNode||e.parentNode===i)||(e=eo(e,!1,i.firstChild&&i.firstChild.classList&&i.firstChild.classList.contains("observablehq--expanded"),t)).classList.add("observablehq--inspect"),i.classList.remove("observablehq--running","observablehq--error"),i.firstChild!==e){if(i.firstChild){for(;i.lastChild!==i.firstChild;)i.removeChild(i.lastChild);i.replaceChild(e,i.firstChild)}else i.appendChild(e)}r(i,"update")}rejected(e,t){let{_node:n}=this;for(n.classList.remove("observablehq--running"),n.classList.add("observablehq--error");n.lastChild;)n.removeChild(n.lastChild);var i=document.createElement("div");i.className="observablehq--inspect",t&&i.appendChild(o(t)),i.appendChild(document.createTextNode((e+"").replace(es,""))),n.appendChild(i),r(n,"error",{error:e})}}eu.into=function(e){if("string"==typeof e&&null==(e=document.querySelector(e)))throw Error("container not found");return function(){return new eu(e.appendChild(document.createElement("div")))}};var ec={},ed={};function ef(e){return Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function eh(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}function ep(e,t){var n=e+"",r=n.length;return r<t?Array(t-r+1).join(0)+n:n}function em(e){var t=RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],a=e.length,o=0,l=0,s=a<=0,u=!1;function c(){if(s)return ed;if(u)return u=!1,ec;var t,r,i=o;if(34===e.charCodeAt(i)){for(;o++<a&&34!==e.charCodeAt(o)||34===e.charCodeAt(++o););return(t=o)>=a?s=!0:10===(r=e.charCodeAt(o++))?u=!0:13===r&&(u=!0,10===e.charCodeAt(o)&&++o),e.slice(i+1,t-1).replace(/""/g,'"')}for(;o<a;){if(10===(r=e.charCodeAt(t=o++)))u=!0;else if(13===r)u=!0,10===e.charCodeAt(o)&&++o;else if(r!==n)continue;return e.slice(i,t)}return s=!0,e.slice(i,a)}for(10===e.charCodeAt(a-1)&&--a,13===e.charCodeAt(a-1)&&--a;(r=c())!==ed;){for(var d=[];r!==ec&&r!==ed;)d.push(r),r=c();(!t||null!=(d=t(d,l++)))&&i.push(d)}return i}function i(t,n){return t.map(function(t){return n.map(function(e){return o(t[e])}).join(e)})}function a(t){return t.map(o).join(e)}function o(e){var n,r,i,a,o,l;return null==e?"":e instanceof Date?(r=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),o=e.getUTCMilliseconds(),isNaN(e)?"Invalid Date":((l=e.getUTCFullYear())<0?"-"+ep(-l,6):l>9999?"+"+ep(l,6):ep(l,4))+"-"+ep(e.getUTCMonth()+1,2)+"-"+ep(e.getUTCDate(),2)+(o?"T"+ep(r,2)+":"+ep(i,2)+":"+ep(a,2)+"."+ep(o,3)+"Z":a?"T"+ep(r,2)+":"+ep(i,2)+":"+ep(a,2)+"Z":i||r?"T"+ep(r,2)+":"+ep(i,2)+"Z":"")):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,a=r(e,function(e,r){var a,o,l;if(n)return n(e,r-1);i=e,n=t?(l=ef(e),function(n,r){return t(l(n),r,e)}):ef(e)});return a.columns=i||[],a},parseRows:r,format:function(t,n){return null==n&&(n=eh(t)),[n.map(o).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=eh(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(a).join("\n")},formatRow:a,formatValue:o}}var eb=em("	"),ev=eb.parse,ew=eb.parseRows;eb.format,eb.formatBody,eb.formatRows,eb.formatRow,eb.formatValue;var e_=em(","),ey=e_.parse,eg=e_.parseRows;function eE(e){for(var t in e){var n,r,i=e[t].trim();if(i){if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;eC&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n}else i=null;e[t]=i}return e}e_.format,e_.formatBody,e_.formatRows,e_.formatRow,e_.formatValue;let eC=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function ex(e,t,n){return{resolve:(r=n)=>`${e}@${t}/${r}`}}let eN=ex("d3","7.6.1","dist/d3.min.js"),ej=ex("@observablehq/inputs","0.10.4","dist/inputs.min.js"),eT=ex("@observablehq/plot","0.6.0","dist/plot.umd.min.js"),eq=ex("@observablehq/graphviz","0.2.1","dist/graphviz.min.js"),e$=ex("@observablehq/highlight.js","2.0.0","highlight.min.js"),eA=ex("@observablehq/katex","0.11.1","dist/katex.min.js"),eL=ex("lodash","4.17.21","lodash.min.js"),eS=ex("htl","0.3.1","dist/htl.min.js"),eO=ex("jszip","3.10.0","dist/jszip.min.js"),ek=ex("marked","0.3.12","marked.min.js"),eP=ex("sql.js","1.7.0","dist/sql-wasm.js"),eM=ex("vega","5.22.1","build/vega.min.js"),eR=ex("vega-lite","5.5.0","build/vega-lite.min.js"),eI=ex("vega-lite-api","5.0.0","build/vega-lite-api.min.js"),eU=ex("apache-arrow","4.0.1","Arrow.es2015.min.js"),eD=ex("arquero","4.8.8","dist/arquero.min.js"),eF=ex("topojson-client","3.1.0","dist/topojson-client.min.js"),eB=ex("exceljs","4.3.0","dist/exceljs.min.js"),ez=ex("mermaid","9.1.6","dist/mermaid.min.js"),eH=ex("leaflet","1.8.0","dist/leaflet.js"),eW=new Map,eV=[],eG=eV.map,eY=eV.some,eZ=eV.hasOwnProperty,eK=/^((?:@[^/@]+\/)?[^/@]+)(?:@([^/]+))?(?:\/(.*))?$/,eJ=/^\d+\.\d+\.\d+(-[\w-.+]+)?$/,eX=/(?:\.[^/]*|\/)$/;class eQ extends Error{constructor(e){super(e)}}function e0(e){let t=eK.exec(e);return t&&{name:t[1],version:t[2],path:t[3]}}function e1(e="https://cdn.jsdelivr.net/npm/",t=["unpkg","jsdelivr","browser","main"]){if(!/\/$/.test(e))throw Error("origin lacks trailing slash");function n(t){let n=`${e}${t.name}${t.version?`@${t.version}`:""}/package.json`,r=eW.get(n);return r||eW.set(n,r=fetch(n).then(e=>{if(!e.ok)throw new eQ("unable to load package.json");return e.redirected&&!eW.has(e.url)&&eW.set(e.url,r),e.json()})),r}return async function(r,i){if(r.startsWith(e)&&(r=r.substring(e.length)),/^(\w+:)|\/\//i.test(r))return r;if(/^[.]{0,2}\//i.test(r))return new URL(r,null==i?location:i).href;if(!r.length||/^[\s._]/.test(r)||/\s$/.test(r))throw new eQ("illegal name");let a=e0(r);if(!a)return`${e}${r}`;if(!a.version&&null!=i&&i.startsWith(e)){let o=await n(e0(i.substring(e.length)));a.version=o.dependencies&&o.dependencies[a.name]||o.peerDependencies&&o.peerDependencies[a.name]}if(a.path&&!eX.test(a.path)&&(a.path+=".js"),a.path&&a.version&&eJ.test(a.version))return`${e}${a.name}@${a.version}/${a.path}`;let l=await n(a);return`${e}${l.name}@${l.version}/${a.path||function(e){for(let n of t){let r=e[n];if("string"==typeof r)return r.startsWith("./")&&(r=r.slice(2)),eX.test(r)?r:`${r}.js`}}(l)||"index.js"}`}}eQ.prototype.name=eQ.name;var e2=e3(e1());function e3(e){let t=new Map,n=i(null);function r(e){if("string"!=typeof e)return e;let n=t.get(e);return n||t.set(e,n=new Promise((t,n)=>{let r=document.createElement("script");r.onload=()=>{try{t(eV.pop()(i(e)))}catch(a){n(new eQ("invalid module"))}r.remove()},r.onerror=()=>{n(new eQ("unable to load module")),r.remove()},r.async=!0,r.src=e,window.define=e8,document.head.appendChild(r)})),n}function i(t){return n=>Promise.resolve(e(n,t)).then(r)}function a(e){return arguments.length>1?Promise.all(eG.call(arguments,n)).then(e7):n(e)}return a.alias=function(t){return e3((n,r)=>n in t&&(n=t[n],r=null,"string"!=typeof n)?n:e(n,r))},a.resolve=e,a}function e7(e){let t={};for(let n of e)for(let r in n)eZ.call(n,r)&&(null==n[r]?Object.defineProperty(t,r,{get:e6(n,r)}):t[r]=n[r]);return t}function e6(e,t){return()=>e[t]}function e9(e){return"exports"==(e+="")||"module"===e}function e8(e,t,n){let r=arguments.length;r<2?(n=e,t=[]):r<3&&(n=t,t="string"==typeof e?[]:e),eV.push(eY.call(t,e9)?e=>{let r={},i={exports:r};return Promise.all(eG.call(t,t=>"exports"==(t+="")?r:"module"===t?i:e(t))).then(e=>(n.apply(null,e),i.exports))}:e=>Promise.all(eG.call(t,e)).then(e=>"function"==typeof n?n.apply(null,e):n))}e8.amd={};let e5=e2;function e4(e){e5=e}async function te(e){let[t,n]=await Promise.all([e(eP.resolve()),e.resolve(eP.resolve("dist/"))]);return t({locateFile:e=>`${n}${e}`})}class tt{constructor(e){Object.defineProperties(this,{_db:{value:e}})}static async open(e){let[t,n]=await Promise.all([te(e5),Promise.resolve(e).then(tn)]);return new tt(new t.Database(n))}async query(e,t){return await tr(this._db,e,t)}async queryRow(e,t){return(await this.query(e,t))[0]||null}async explain(e,t){let n=await this.query(`EXPLAIN QUERY PLAN ${e}`,t);return ti("pre",{className:"observablehq--inspect"},[ta(n.map(e=>e.detail).join("\n"))])}async describeTables({schema:e}={}){return this.query(`SELECT NULLIF(schema, 'main') AS schema, name FROM pragma_table_list() WHERE type = 'table'${null==e?"":" AND schema = ?"} AND name NOT LIKE 'sqlite_%'`,null==e?[]:[e])}async describeColumns({schema:e,table:t}={}){if(null==t)throw Error("missing table");let n=await this.query(`SELECT name, type, "notnull" FROM pragma_table_info(?${null==e?"":", ?"}) ORDER BY cid`,null==e?[t]:[t,e]);if(!n.length)throw Error(`table not found: ${t}`);return n.map(({name:e,type:t,notnull:n})=>({name:e,type:function(e){switch(e){case"NULL":return"null";case"INT":case"INTEGER":case"TINYINT":case"SMALLINT":case"MEDIUMINT":case"BIGINT":case"UNSIGNED BIG INT":case"INT2":case"INT8":return"integer";case"TEXT":case"CLOB":case"DATE":case"DATETIME":return"string";case"REAL":case"DOUBLE":case"DOUBLE PRECISION":case"FLOAT":case"NUMERIC":return"number";case"BLOB":return"buffer";default:return/^(?:(?:(?:VARYING|NATIVE) )?CHARACTER|(?:N|VAR|NVAR)CHAR)\(/.test(e)?"string":/^(?:DECIMAL|NUMERIC)\(/.test(e)?"number":"other"}}(t),databaseType:t,nullable:!n}))}async describe(e){let t=await (void 0===e?this.query("SELECT name FROM sqlite_master WHERE type = 'table'"):this.query("SELECT * FROM pragma_table_info(?)",[e]));if(!t.length)throw Error("Not found");let{columns:n}=t;return ti("table",{value:t},[ti("thead",[ti("tr",n.map(e=>ti("th",[ta(e)])))]),ti("tbody",t.map(e=>ti("tr",n.map(t=>ti("td",[ta(e[t])])))))])}async sql(){return this.query(...this.queryTag.apply(this,arguments))}queryTag(e,...t){return[e.join("?"),t]}}function tn(e){return"string"==typeof e?fetch(e).then(tn):e instanceof Response||e instanceof Blob?e.arrayBuffer().then(tn):e instanceof ArrayBuffer?new Uint8Array(e):e}async function tr(e,t,n){let[r]=await e.exec(t,n);if(!r)return[];let{columns:i,values:a}=r,o=a.map(e=>Object.fromEntries(e.map((e,t)=>[i[t],e])));return o.columns=i,o}function ti(e,t,n){2===arguments.length&&(n=t,t=void 0);let r=document.createElement(e);if(void 0!==t)for(let i in t)r[i]=t[i];if(void 0!==n)for(let a of n)r.appendChild(a);return r}function ta(e){return document.createTextNode(e)}Object.defineProperty(tt.prototype,"dialect",{value:"sqlite"});class to{constructor(e){Object.defineProperties(this,{_:{value:e},sheetNames:{value:e.worksheets.map(e=>e.name),enumerable:!0}})}sheet(e,t){let n="number"==typeof e?this.sheetNames[e]:this.sheetNames.includes(e+="")?e:null;if(null==n)throw Error(`Sheet not found: ${e}`);let r=this._.getWorksheet(n);return function(e,{range:t,headers:n}={}){let[[r,i],[a,o]]=function(e=":",{columnCount:t,rowCount:n}){if(!(e+="").match(/^[A-Z]*\d*:[A-Z]*\d*$/))throw Error("Malformed range specifier");let[[r=0,i=0],[a=t-1,o=n-1]]=e.split(":").map(tc);return[[r,i],[a,o]]}(t,e),l=n?e._rows[i++]:null,s=new Set(["#"]);for(let u=r;u<=a;u++){let c=l?tl(l.findCell(u+1)):null,d=c&&c+""||tu(u);for(;s.has(d);)d+="_";s.add(d)}s=Array(r).concat(Array.from(s));let f=Array(o-i+1);for(let h=i;h<=o;h++){let p=f[h-i]=Object.create(null,{"#":{value:h+1}}),m=e.getRow(h+1);if(m.hasValues)for(let b=r;b<=a;b++){let v=tl(m.findCell(b+1));null!=v&&(p[s[b+1]]=v)}}return f.columns=s.filter(()=>!0),f}(r,t)}}function tl(e){if(!e)return;let{value:t}=e;if(t&&"object"==typeof t&&!(t instanceof Date)){if(t.formula||t.sharedFormula)return t.result&&t.result.error?NaN:t.result;if(t.richText)return ts(t);if(t.text){let{text:n}=t;return n.richText&&(n=ts(n)),t.hyperlink&&t.hyperlink!==n?`${t.hyperlink} ${n}`:n}}return t}function ts(e){return e.richText.map(e=>e.text).join("")}function tu(e){let t="";e++;do t=String.fromCharCode(64+(e%26||26))+t;while(e=Math.floor((e-1)/26));return t}function tc(e){let[,t,n]=e.match(/^([A-Z]*)(\d*)$/),r=0;if(t)for(let i=0;i<t.length;i++)r+=Math.pow(26,t.length-i-1)*(t.charCodeAt(i)-64);return[r?r-1:void 0,n?+n-1:void 0]}async function td(e){let t=await fetch(await e.url());if(!t.ok)throw Error(`Unable to load file: ${e.name}`);return t}async function tf(e,t,{array:n=!1,typed:r=!1}={}){let i=await e.text();return("	"===t?n?ew:ev:n?eg:ey)(i,r&&eE)}class th{constructor(e,t){Object.defineProperty(this,"name",{value:e,enumerable:!0}),void 0!==t&&Object.defineProperty(this,"mimeType",{value:t+"",enumerable:!0})}async blob(){return(await td(this)).blob()}async arrayBuffer(){return(await td(this)).arrayBuffer()}async text(){return(await td(this)).text()}async json(){return(await td(this)).json()}async stream(){return(await td(this)).body}async csv(e){return tf(this,",",e)}async tsv(e){return tf(this,"	",e)}async image(e){let t=await this.url();return new Promise((n,r)=>{let i=new Image;new URL(t,document.baseURI).origin!==new URL(location).origin&&(i.crossOrigin="anonymous"),Object.assign(i,e),i.onload=()=>n(i),i.onerror=()=>r(Error(`Unable to load file: ${this.name}`)),i.src=t})}async arrow(){let[e,t]=await Promise.all([e5(eU.resolve()),td(this)]);return e.Table.from(t)}async sqlite(){return tt.open(td(this))}async zip(){let[e,t]=await Promise.all([e5(eO.resolve()),this.arrayBuffer()]);return new tb(await e.loadAsync(t))}async xml(e="application/xml"){return(new DOMParser).parseFromString(await this.text(),e)}async html(){return this.xml("text/html")}async xlsx(){let[e,t]=await Promise.all([e5(eB.resolve()),this.arrayBuffer()]);return new to(await new e.Workbook().xlsx.load(t))}}class tp extends th{constructor(e,t,n){super(t,n),Object.defineProperty(this,"_url",{value:e})}async url(){return await this._url+""}}function tm(e){throw Error(`File not found: ${e}`)}class tb{constructor(e){Object.defineProperty(this,"_",{value:e}),this.filenames=Object.keys(e.files).filter(t=>!e.files[t].dir)}file(e){let t=this._.file(e+="");if(!t||t.dir)throw Error(`file not found: ${e}`);return new tv(t)}}class tv extends th{constructor(e){super(e.name),Object.defineProperty(this,"_",{value:e}),Object.defineProperty(this,"_url",{writable:!0})}async url(){return this._url||(this._url=this.blob().then(URL.createObjectURL))}async blob(){return this._.async("blob")}async arrayBuffer(){return this._.async("arraybuffer")}async text(){return this._.async("text")}async json(){return JSON.parse(await this.text())}}var tw={math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},t_=0;function ty(e){return new tg("O-"+(null==e?"":e+"-")+ ++t_)}function tg(e){this.id=e,this.href=new URL(`#${e}`,location)+""}tg.prototype.toString=function(){return"url("+this.href+")"};var tE={canvas:function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n},context2d:function(e,t,n){null==n&&(n=devicePixelRatio);var r=document.createElement("canvas");r.width=e*n,r.height=t*n,r.style.width=e+"px";var i=r.getContext("2d");return i.scale(n,n),i},download:function(e,t="untitled",n="Save"){let r=document.createElement("a"),i=r.appendChild(document.createElement("button"));async function a(){await new Promise(requestAnimationFrame),URL.revokeObjectURL(r.href),r.removeAttribute("href"),i.textContent=n,i.disabled=!1}return i.textContent=n,r.download=t,r.onclick=async t=>{if(i.disabled=!0,r.href)return a();i.textContent="Saving…";try{let o=await ("function"==typeof e?e():e);i.textContent="Download",r.href=URL.createObjectURL(o)}catch(l){i.textContent=n}if(t.eventPhase)return a();i.disabled=!1},r},element:function(e,t){var n,r=e+="",i=r.indexOf(":");i>=0&&"xmlns"!==(r=e.slice(0,i))&&(e=e.slice(i+1));var a=tw.hasOwnProperty(r)?document.createElementNS(tw[r],e):document.createElement(e);if(t)for(var o in t)i=(r=o).indexOf(":"),n=t[o],i>=0&&"xmlns"!==(r=o.slice(0,i))&&(o=o.slice(i+1)),tw.hasOwnProperty(r)?a.setAttributeNS(tw[r],o,n):a.setAttribute(o,n);return a},input:function(e){var t=document.createElement("input");return null!=e&&(t.type=e),t},range:function(e,t,n){1===arguments.length&&(t=e,e=null);var r=document.createElement("input");return r.min=e=null==e?0:+e,r.max=t=null==t?1:+t,r.step=null==n?"any":n=+n,r.type="range",r},select:function(e){var t=document.createElement("select");return Array.prototype.forEach.call(e,function(e){var n=document.createElement("option");n.value=n.textContent=e,t.appendChild(n)}),t},svg:function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox",[0,0,e,t]),n.setAttribute("width",e),n.setAttribute("height",t),n},text:function(e){return document.createTextNode(e)},uid:ty},tC={buffer:function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsArrayBuffer(e)})},text:function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsText(e)})},url:function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsDataURL(e)})}};function tx(){return this}function tN(e,t){let n=!1;if("function"!=typeof t)throw Error("dispose is not a function");return{[Symbol.iterator]:tx,next:()=>n?{done:!0}:(n=!0,{done:!1,value:e}),return:()=>(n=!0,t(e),{done:!0}),throw:()=>({done:n=!0})}}function tj(e){let t=!1,n,r,i=e(function(e){return r?(r(e),r=null):t=!0,n=e});if(null!=i&&"function"!=typeof i)throw Error("function"==typeof i.then?"async initializers are not supported":"initializer returned something, but not a dispose function");return{[Symbol.iterator]:tx,throw:()=>({done:!0}),return:()=>(null!=i&&i(),{done:!0}),next:function(){return{done:!1,value:t?(t=!1,Promise.resolve(n)):new Promise(e=>r=e)}}}}function tT(e){switch(e.type){case"range":case"number":return e.valueAsNumber;case"date":return e.valueAsDate;case"checkbox":return e.checked;case"file":return e.multiple?e.files:e.files[0];case"select-multiple":return Array.from(e.selectedOptions,e=>e.value);default:return e.value}}var tq={disposable:tN,filter:function*(e,t){for(var n,r=-1;!(n=e.next()).done;)t(n.value,++r)&&(yield n.value)},input:function(e){return tj(function(t){var n=function(e){switch(e.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change";default:return"input"}}(e),r=tT(e);function i(){t(tT(e))}return e.addEventListener(n,i),void 0!==r&&t(r),function(){e.removeEventListener(n,i)}})},map:function*(e,t){for(var n,r=-1;!(n=e.next()).done;)yield t(n.value,++r)},observe:tj,queue:function(e){let t,n=[],r=e(function(e){return n.push(e),t&&(t(n.shift()),t=null),e});if(null!=r&&"function"!=typeof r)throw Error("function"==typeof r.then?"async initializers are not supported":"initializer returned something, but not a dispose function");return{[Symbol.iterator]:tx,throw:()=>({done:!0}),return:()=>(null!=r&&r(),{done:!0}),next:function(){return{done:!1,value:n.length?Promise.resolve(n.shift()):new Promise(e=>t=e)}}}},range:function*(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n));++r<i;)yield e+r*n},valueAt:function(e,t){if(isFinite(t=+t)&&!(t<0)&&!(t!=t|0)){for(var n,r=-1;!(n=e.next()).done;)if(++r===t)return n.value}},worker:function(e){let t=URL.createObjectURL(new Blob([e],{type:"text/javascript"})),n=new Worker(t);return tN(n,()=>{n.terminate(),URL.revokeObjectURL(t)})}};function t$(e,t){return function(n){var r,i,a,o,l,s,u,c,d=n[0],f=[],h=null,p=-1;for(l=1,s=arguments.length;l<s;++l){if(r=arguments[l],r instanceof Node)f[++p]=r,d+="<!--o:"+p+"-->";else if(Array.isArray(r)){for(u=0,c=r.length;u<c;++u)(i=r[u])instanceof Node?(null===h&&(f[++p]=h=document.createDocumentFragment(),d+="<!--o:"+p+"-->"),h.appendChild(i)):(h=null,d+=i);h=null}else d+=r;d+=n[l]}if(h=e(d),++p>0){for(a=Array(p),o=document.createTreeWalker(h,NodeFilter.SHOW_COMMENT,null,!1);o.nextNode();)i=o.currentNode,/^o:/.test(i.nodeValue)&&(a[+i.nodeValue.slice(2)]=i);for(l=0;l<p;++l)(i=a[l])&&i.parentNode.replaceChild(f[l],i)}return 1===h.childNodes.length?h.removeChild(h.firstChild):11===h.nodeType?((i=t()).appendChild(h),i):h}}var tA=t$(function(e){var t=document.createElement("template");return t.innerHTML=e.trim(),document.importNode(t.content,!0)},function(){return document.createElement("span")});async function tL(e){let t=await e(eH.resolve());if(!t._style){let n=document.createElement("link");n.rel="stylesheet",n.href=await e.resolve(eH.resolve("dist/leaflet.css")),t._style=document.head.appendChild(n)}return t}async function tS(e){let t=await e(ez.resolve());return t.initialize({securityLevel:"loose",theme:"neutral"}),function(){let e=document.createElement("div");return e.innerHTML=t.render(ty().id,String.raw.apply(String,arguments)),e.removeChild(e.firstChild)}}function tO(e){let t;Object.defineProperties(this,{generator:{value:tj(e=>void(t=e))},value:{get:()=>e,set:n=>t(e=n)}}),void 0!==e&&t(e)}function*tk(){for(;;)yield Date.now()}var tP=new Map;function tM(e,t){var n,r,i,a;return(n=tP.get(e=+e))?n.then(()=>t):(n=Date.now())>=e?Promise.resolve(t):(r=n,i=e,a=new Promise(function(e){tP.delete(i);var t=i-r;if(!(t>0))throw Error("invalid time");if(t>2147483647)throw Error("too long to wait");setTimeout(e,t)}),tP.set(i,a),a).then(()=>t)}var tR={delay:function(e,t){return new Promise(function(n){setTimeout(function(){n(t)},e)})},tick:function(e,t){return tM(Math.ceil((Date.now()+1)/e)*e,t)},when:tM};function tI(e,t){if(/^(\w+:)|\/\//i.test(e))return e;if(/^[.]{0,2}\//i.test(e))return new URL(e,null==t?location:t).href;if(!e.length||/^[\s._]/.test(e)||/\s$/.test(e))throw Error("illegal name");return"https://unpkg.com/"+e}var tU=t$(function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","g");return t.innerHTML=e.trim(),t},function(){return document.createElementNS("http://www.w3.org/2000/svg","g")}),tD=String.raw;function tF(e){return new Promise(function(t,n){var r=document.createElement("link");r.rel="stylesheet",r.href=e,r.onerror=n,r.onload=t,document.head.appendChild(r)})}async function tB(e){let[t,n,r]=await Promise.all([eM,eR,eI].map(t=>e(t.resolve())));return r.register(t,n)}function tz(){return tj(function(e){var t=e(document.body.clientWidth);function n(){var n=document.body.clientWidth;n!==t&&e(t=n)}return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}})}let tH=Object.assign(async(e,t,n)=>{let r=function(e,t){let n=t&&"function"==typeof t.escape?t.escape:e=>e,{select:r,from:i,filter:a,sort:o,slice:l}=e;if(null===i.table||null===r.columns||r.columns&&0===r.columns.length)return;let s=r.columns.map(e=>`t.${n(e)}`),u=[[`SELECT ${s} FROM ${function(e,t){if("object"==typeof e){let n="";return null!=e.database&&(n+=t(e.database)+"."),null!=e.schema&&(n+=t(e.schema)+"."),n+=t(e.table)}return e}(i.table,n)} t`]];for(let c=0;c<a.length;++c)tG(c?`
AND `:`
WHERE `,u),tZ(a[c],u);for(let d=0;d<o.length;++d)tG(d?", ":`
ORDER BY `,u),tY(o[d],u);return(null!==l.to||null!==l.from)&&tG(`
LIMIT ${null!==l.to?l.to-(l.from||0):1e9}`,u),null!==l.from&&tG(` OFFSET ${l.from}`,u),u}(t,await e);return r?tW(await e,r,n):null},{sql:(e,t)=>async function(){return tW(e,arguments,t)}});async function tW(e,t,n){if(e){if("function"==typeof e.queryTag){let r=new AbortController,i={signal:r.signal};if(n.then(()=>r.abort("invalidated")),"function"==typeof e.queryStream)return tV(e.queryStream(...e.queryTag.apply(e,t),i));if("function"==typeof e.query)return e.query(...e.queryTag.apply(e,t),i)}if("function"==typeof e.sql)return e.sql.apply(e,t);throw Error("source does not implement query, queryStream, or sql")}}async function*tV(e){let t=await e,n=[];n.done=!1,n.error=null,n.schema=t.schema;try{let r=t.readRows();do{let i=await r.next();if(i.done)n.done=!0;else for(let a of i.value)n.push(a);yield n}while(!n.done)}catch(o){n.error=o,yield n}}function tG(e,t){let n=t[0];n[n.length-1]+=e}function tY({column:e,direction:t},n){tG(`t.${e} ${t.toUpperCase()}`,n)}function tZ({type:e,operands:t},n){if(t.length<1)throw Error("Invalid operand length");if(1===t.length)switch(tK(t[0],n),e){case"n":tG(" IS NULL",n);return;case"nn":tG(" IS NOT NULL",n);return;default:throw Error("Invalid filter operation")}if(2===t.length){if(["in","nin"].includes(e));else if(["c","nc"].includes(e)){var r;switch(tK(t[0],n),e){case"c":tG(" LIKE ",n);break;case"nc":tG(" NOT LIKE ",n)}tK((r=t[1],{...r,value:`%${r.value}%`}),n);return}else{switch(tK(t[0],n),e){case"eq":tG(" = ",n);break;case"ne":tG(" <> ",n);break;case"gt":tG(" > ",n);break;case"lt":tG(" < ",n);break;case"gte":tG(" >= ",n);break;case"lte":tG(" <= ",n);break;default:throw Error("Invalid filter operation")}tK(t[1],n);return}}switch(tK(t[0],n),e){case"in":tG(" IN (",n);break;case"nin":tG(" NOT IN (",n);break;default:throw Error("Invalid filter operation")}(function(e,t){let n=!0;for(let r of e)n?n=!1:tG(",",t),t.push(r.value),t[0].push("")})(t.slice(1),n),tG(")",n)}function tK(e,t){"column"===e.type?tG(`t.${e.value}`,t):(t.push(e.value),t[0].push(""))}var tJ=Object.assign(Object.defineProperties(function(e){var t,n;let r=null==e?e5:e3(e);Object.defineProperties(this,(n={FileAttachment:()=>tm,Mutable:()=>tO,now:tk,width:tz,dot:()=>r(eq.resolve()),htl:()=>r(eS.resolve()),html:()=>tA,md(){var e;return r(ek.resolve()).then(function(e){return t$(function(t){var n=document.createElement("div");n.innerHTML=e(t,{langPrefix:""}).trim();var i=n.querySelectorAll("pre code[class]");return i.length>0&&r(e$.resolve()).then(function(e){i.forEach(function(t){function n(){e.highlightBlock(t),t.parentNode.classList.add("observablehq--md-pre")}e.getLanguage(t.className)?n():r(e$.resolve("async-languages/index.js")).then(n=>{if(n.has(t.className))return r(e$.resolve("async-languages/"+n.get(t.className))).then(n=>{e.registerLanguage(t.className,n)})}).then(n,n)})}),n},function(){return document.createElement("div")})})},svg:()=>tU,tex(){var e;return Promise.all([r(eA.resolve()),r.resolve(eA.resolve("dist/katex.min.css")).then(tF)]).then(function(e){var t=e[0],n=r();function r(e){return function(){var n=document.createElement("div");return t.render(tD.apply(String,arguments),n,e),n.removeChild(n.firstChild)}}return n.options=r,n.block=r({displayMode:!0}),n})},_:()=>r(eL.resolve()),aq:()=>r.alias({"apache-arrow":eU.resolve()})(eD.resolve()),Arrow:()=>r(eU.resolve()),d3:()=>r(eN.resolve()),Inputs:()=>r(ej.resolve()).then(e=>({...e,file:e.fileOf(th)})),L:()=>tL(r),mermaid:()=>tS(r),Plot:()=>r(eT.resolve()),__query:()=>tH,require:()=>r,resolve:()=>tI,SQLite:()=>te(r),SQLiteDatabaseClient:()=>tt,topojson:()=>r(eF.resolve()),vl:()=>tB(r),aapl:()=>new tp("https://static.observableusercontent.com/files/3ccff97fd2d93da734e76829b2b066eafdaac6a1fafdec0faf6ebc443271cfc109d29e80dd217468fcb2aff1e6bffdc73f356cc48feb657f35378e6abbbb63b9").csv({typed:!0}),alphabet:()=>new tp("https://static.observableusercontent.com/files/75d52e6c3130b1cae83cda89305e17b50f33e7420ef205587a135e8562bcfd22e483cf4fa2fb5df6dff66f9c5d19740be1cfaf47406286e2eb6574b49ffc685d").csv({typed:!0}),cars:()=>new tp("https://static.observableusercontent.com/files/048ec3dfd528110c0665dfa363dd28bc516ffb7247231f3ab25005036717f5c4c232a5efc7bb74bc03037155cb72b1abe85a33d86eb9f1a336196030443be4f6").csv({typed:!0}),citywages:()=>new tp("https://static.observableusercontent.com/files/39837ec5121fcc163131dbc2fe8c1a2e0b3423a5d1e96b5ce371e2ac2e20a290d78b71a4fb08b9fa6a0107776e17fb78af313b8ea70f4cc6648fad68ddf06f7a").csv({typed:!0}),diamonds:()=>new tp("https://static.observableusercontent.com/files/87942b1f5d061a21fa4bb8f2162db44e3ef0f7391301f867ab5ba718b225a63091af20675f0bfe7f922db097b217b377135203a7eab34651e21a8d09f4e37252").csv({typed:!0}),flare:()=>new tp("https://static.observableusercontent.com/files/a6b0d94a7f5828fd133765a934f4c9746d2010e2f342d335923991f31b14120de96b5cb4f160d509d8dc627f0107d7f5b5070d2516f01e4c862b5b4867533000").csv({typed:!0}),industries:()=>new tp("https://static.observableusercontent.com/files/76f13741128340cc88798c0a0b7fa5a2df8370f57554000774ab8ee9ae785ffa2903010cad670d4939af3e9c17e5e18e7e05ed2b38b848ac2fc1a0066aa0005f").csv({typed:!0}),miserables:()=>new tp("https://static.observableusercontent.com/files/31d904f6e21d42d4963ece9c8cc4fbd75efcbdc404bf511bc79906f0a1be68b5a01e935f65123670ed04e35ca8cae3c2b943f82bf8db49c5a67c85cbb58db052").json(),olympians:()=>new tp("https://static.observableusercontent.com/files/31ca24545a0603dce099d10ee89ee5ae72d29fa55e8fc7c9ffb5ded87ac83060d80f1d9e21f4ae8eb04c1e8940b7287d179fe8060d887fb1f055f430e210007c").csv({typed:!0}),penguins:()=>new tp("https://static.observableusercontent.com/files/715db1223e067f00500780077febc6cebbdd90c151d3d78317c802732252052ab0e367039872ab9c77d6ef99e5f55a0724b35ddc898a1c99cb14c31a379af80a").csv({typed:!0}),weather:()=>new tp("https://static.observableusercontent.com/files/693a46b22b33db0f042728700e0c73e836fa13d55446df89120682d55339c6db7cc9e574d3d73f24ecc9bc7eb9ac9a1e7e104a1ee52c00aab1e77eb102913c1f").csv({typed:!0}),DOM:tE,Files:tC,Generators:tq,Promises:tR},Object.fromEntries(Object.entries(n).map(tX))))},{resolve:{get:()=>e5.resolve,enumerable:!0,configurable:!0},require:{get:()=>e5,set:e4,enumerable:!0,configurable:!0}}),{resolveFrom:e1,requireFrom:e3});function tX([e,t]){return[e,{value:t,writable:!0,enumerable:!0}]}function tQ(e,t){this.message=e+"",this.input=t}function t0(e){return function(){return e}}function t1(e){return e}tQ.prototype=Object.create(Error.prototype),tQ.prototype.name="RuntimeError",tQ.prototype.constructor=tQ;var t2=Array.prototype,t3=t2.map;function t7(){}t2.forEach;var t6={};function t9(e,t,n){var r;n||(n=t6),Object.defineProperties(this,{_observer:{value:n,writable:!0},_definition:{value:t4,writable:!0},_duplicate:{value:void 0,writable:!0},_duplicates:{value:void 0,writable:!0},_indegree:{value:NaN,writable:!0},_inputs:{value:[],writable:!0},_invalidate:{value:t7,writable:!0},_module:{value:t},_name:{value:null,writable:!0},_outputs:{value:new Set,writable:!0},_promise:{value:Promise.resolve(void 0),writable:!0},_reachable:{value:n!==t6,writable:!0},_rejector:{value:(r=this,function(e){if(e===ne)throw e;if(e===t4)throw new tQ(r._name+" is not defined",r._name);if(e instanceof Error&&e.message)throw new tQ(e.message,r._name);throw new tQ(r._name+" could not be resolved",r._name)})},_type:{value:e},_value:{value:void 0,writable:!0},_version:{value:0,writable:!0}})}function t8(e){e._module._runtime._dirty.add(e),e._outputs.add(this)}function t5(e){e._module._runtime._dirty.add(e),e._outputs.delete(this)}function t4(){throw t4}function ne(){throw ne}function nt(e){return function(){throw new tQ(e+" is defined more than once")}}function nn(e,t,n){var r,i,a=this._module._scope,o=this._module._runtime;if(this._inputs.forEach(t5,this),t.forEach(t8,this),this._inputs=t,this._definition=n,this._value=void 0,n===t7?o._variables.delete(this):o._variables.add(this),e!==this._name||a.get(e)!==this){if(this._name){if(this._outputs.size)a.delete(this._name),(i=this._module._resolve(this._name))._outputs=this._outputs,this._outputs=new Set,i._outputs.forEach(function(e){e._inputs[e._inputs.indexOf(this)]=i},this),i._outputs.forEach(o._updates.add,o._updates),o._dirty.add(i).add(this),a.set(this._name,i);else if((i=a.get(this._name))===this)a.delete(this._name);else if(3===i._type)i._duplicates.delete(this),this._duplicate=void 0,1===i._duplicates.size&&(i=i._duplicates.keys().next().value,r=a.get(this._name),i._outputs=r._outputs,r._outputs=new Set,i._outputs.forEach(function(e){e._inputs[e._inputs.indexOf(r)]=i}),i._definition=i._duplicate,i._duplicate=void 0,o._dirty.add(r).add(i),o._updates.add(i),a.set(this._name,i));else throw Error()}if(this._outputs.size)throw Error();e&&((i=a.get(e))?3===i._type?(this._definition=nt(e),this._duplicate=n,i._duplicates.add(this)):2===i._type?(this._outputs=i._outputs,i._outputs=new Set,this._outputs.forEach(function(e){e._inputs[e._inputs.indexOf(i)]=this},this),o._dirty.add(i).add(this),a.set(e,this)):(i._duplicate=i._definition,this._duplicate=n,(r=new t9(3,this._module))._name=e,r._definition=this._definition=i._definition=nt(e),r._outputs=i._outputs,i._outputs=new Set,r._outputs.forEach(function(e){e._inputs[e._inputs.indexOf(i)]=r}),r._duplicates=new Set([this,i]),o._dirty.add(i).add(r),o._updates.add(i).add(r),a.set(e,r)):a.set(e,this)),this._name=e}return this._version>0&&++this._version,o._updates.add(this),o._compute(),this}function nr(e,t=[]){Object.defineProperties(this,{_runtime:{value:e},_scope:{value:new Map},_builtins:{value:new Map([["@variable",ns],["invalidation",nu],["visibility",nc],...t])},_source:{value:null,writable:!0}})}async function ni(e){var t=this._scope.get(e);if(!t)throw new tQ(e+" is not defined");if(t._observer!==t6)return na(this._runtime,t);t=this.variable(!0).define([e],t1);try{return await na(this._runtime,t)}finally{t.delete()}}async function na(e,t){await e._compute();try{return await t._promise}catch(n){if(n===ne)return na(e,t);throw n}}function no(e){return e._name}Object.defineProperties(t9.prototype,{_pending:{value:function(){this._observer.pending&&this._observer.pending()},writable:!0,configurable:!0},_fulfilled:{value:function(e){this._observer.fulfilled&&this._observer.fulfilled(e,this._name)},writable:!0,configurable:!0},_rejected:{value:function(e){this._observer.rejected&&this._observer.rejected(e,this._name)},writable:!0,configurable:!0},define:{value:function(e,t,n){switch(arguments.length){case 1:n=e,e=t=null;break;case 2:n=t,"string"==typeof e?t=null:(t=e,e=null)}return nn.call(this,null==e?null:e+"",null==t?[]:t3.call(t,this._module._resolve,this._module),"function"==typeof n?n:t0(n))},writable:!0,configurable:!0},delete:{value:function(){return nn.call(this,null,[],t7)},writable:!0,configurable:!0},import:{value:function(e,t,n){return arguments.length<3&&(n=t,t=e),nn.call(this,t+"",[n._resolve(e+"")],t1)},writable:!0,configurable:!0}}),Object.defineProperties(nr.prototype,{_resolve:{value:function(e){var t,n,r=this._scope.get(e);if(!r){if(r=new t9(2,this),this._builtins.has(e))r.define(e,t0(this._builtins.get(e)));else if(this._runtime._builtin._scope.has(e))r.import(e,this._runtime._builtin);else{try{n=this._runtime._global(e)}catch(i){return r.define(e,(t=i,function(){throw t}))}void 0===n?this._scope.set(r._name=e,r):r.define(e,t0(n))}}return r},writable:!0,configurable:!0},redefine:{value:function(e){var t=this._scope.get(e);if(!t)throw new tQ(e+" is not defined");if(3===t._type)throw new tQ(e+" is defined more than once");return t.define.apply(t,arguments)},writable:!0,configurable:!0},define:{value:function(){var e=new t9(1,this);return e.define.apply(e,arguments)},writable:!0,configurable:!0},derive:{value:function(e,t){let n=new Map,r=new Set,i=[];function a(e){let t=n.get(e);return t||((t=new nr(e._runtime,e._builtins))._source=e,n.set(e,t),i.push([t,e]),r.add(e)),t}let o=a(this);for(let l of e){let{alias:s,name:u}="object"==typeof l?l:{name:l};o.import(u,null==s?u:s,t)}for(let c of r)for(let[d,f]of c._scope)if(f._definition===t1){if(c===this&&o._scope.has(d))continue;let h=f._inputs[0]._module;h._source&&a(h)}for(let[p,m]of i)for(let[b,v]of m._scope){let w=p._scope.get(b);if(!w||2===w._type){if(v._definition===t1){let _=v._inputs[0],y=_._module;p.import(_._name,b,n.get(y)||y)}else p.define(b,v._inputs.map(no),v._definition)}}return o},writable:!0,configurable:!0},import:{value:function(){var e=new t9(1,this);return e.import.apply(e,arguments)},writable:!0,configurable:!0},value:{value:ni,writable:!0,configurable:!0},variable:{value:function(e){return new t9(1,this,e)},writable:!0,configurable:!0},builtin:{value:function(e,t){this._builtins.set(e,t)},writable:!0,configurable:!0}});let nl="function"==typeof requestAnimationFrame?requestAnimationFrame:"function"==typeof setImmediate?setImmediate:e=>setTimeout(e,0);var ns={},nu={},nc={};function nd(e=new tJ,t=ng){var n=this.module();if(Object.defineProperties(this,{_dirty:{value:new Set},_updates:{value:new Set},_precomputes:{value:[],writable:!0},_computing:{value:null,writable:!0},_init:{value:null,writable:!0},_modules:{value:new Map},_variables:{value:new Set},_disposed:{value:!1,writable:!0},_builtin:{value:n},_global:{value:t}}),e)for(var r in e)new t9(2,n).define(r,[],e[r])}async function nf(){var e,t,n=[],r=this._precomputes;if(r.length){for(let i of(this._precomputes=[],r))i();await function(e=0){let t=Promise.resolve();for(let n=0;n<e;++n)t=t.then(()=>{});return t}(3)}(e=new Set(this._dirty)).forEach(function(t){t._inputs.forEach(e.add,e);let n=function(e){if(e._observer!==t6)return!0;var t=new Set(e._outputs);for(let n of t){if(n._observer!==t6)return!0;n._outputs.forEach(t.add,t)}return!1}(t);n>t._reachable?this._updates.add(t):n<t._reachable&&t._invalidate(),t._reachable=n},this),(e=new Set(this._updates)).forEach(function(t){t._reachable?(t._indegree=0,t._outputs.forEach(e.add,e)):(t._indegree=NaN,e.delete(t))}),this._computing=null,this._updates.clear(),this._dirty.clear(),e.forEach(function(e){e._outputs.forEach(np)});do{for(e.forEach(function(e){0===e._indegree&&n.push(e)});t=n.pop();)n_(t),t._outputs.forEach(a),e.delete(t);e.forEach(function(t){nh(t)&&(ny(t,new tQ("circular definition")),t._outputs.forEach(nm),e.delete(t))})}while(e.size);function a(e){0==--e._indegree&&n.push(e)}}function nh(e){let t=new Set(e._inputs);for(let n of t){if(n===e)return!0;n._inputs.forEach(t.add,t)}return!1}function np(e){++e._indegree}function nm(e){--e._indegree}function nb(e){return e._promise.catch(e._rejector)}function nv(e){return new Promise(function(t){e._invalidate=t})}function nw(e,t){let n="function"==typeof IntersectionObserver&&t._observer&&t._observer._node,r=!n,i=t7,a=t7,o,l;return n&&((l=new IntersectionObserver(([e])=>(r=e.isIntersecting)&&(o=null,i()))).observe(n),e.then(()=>(l.disconnect(),l=null,a()))),function(e){return r?Promise.resolve(e):l?(o||(o=new Promise((e,t)=>(i=e,a=t))),o.then(()=>e)):Promise.reject()}}function n_(e){e._invalidate(),e._invalidate=t7,e._pending();let t=e._value,n=++e._version,r=null,i=e._promise=(e._inputs.length?Promise.all(e._inputs.map(nb)).then(function(i){if(e._version!==n)throw ne;for(var a=0,o=i.length;a<o;++a)switch(i[a]){case nu:i[a]=r=nv(e);break;case nc:r||(r=nv(e)),i[a]=nw(r,e);break;case ns:i[a]=e}return e._definition.apply(t,i)}):new Promise(n=>n(e._definition.call(t)))).then(function(t){var i,a;if(e._version!==n)throw ne;return t&&"function"==typeof t.next&&"function"==typeof t.return?((r||nv(e)).then((a=t,function(){a.return()})),function(e,t,n){let r=e._module._runtime,i;function a(e){return new Promise(e=>e(n.next(i))).then(({done:t,value:n})=>t?void 0:Promise.resolve(n).then(e))}function o(){let n=a(a=>{if(e._version!==t)throw ne;return i=a,l(a,n).then(()=>r._precompute(o)),e._fulfilled(a),a});n.catch(r=>{r!==ne&&e._version===t&&(l(void 0,n),e._rejected(r))})}function l(t,n){return e._value=t,e._promise=n,e._outputs.forEach(r._updates.add,r._updates),r._compute()}return a(n=>{if(e._version!==t)throw ne;return i=n,r._precompute(o),n})}(e,n,t)):t});i.then(t=>{e._value=t,e._fulfilled(t)},t=>{t!==ne&&(e._value=void 0,e._rejected(t))})}function ny(e,t){e._invalidate(),e._invalidate=t7,e._pending(),++e._version,e._indegree=NaN,(e._promise=Promise.reject(t)).catch(t7),e._value=void 0,e._rejected(t)}function ng(e){return window[e]}Object.defineProperties(nd,{load:{value:function(e,t,n){if("function"==typeof t&&(n=t,t=null),"function"!=typeof n)throw Error("invalid observer");null==t&&(t=new tJ);let{modules:r,id:i}=e,a=new Map,o=new nd(t),l=s(i);function s(e){let t=a.get(e);return t||a.set(e,t=o.module()),t}for(let u of r){let c=s(u.id),d=0;for(let f of u.variables)f.from?c.import(f.remote,f.name,s(f.from)):c===l?c.variable(n(f,d,u.variables)).define(f.name,f.inputs,f.value):c.define(f.name,f.inputs,f.value),++d}return o},writable:!0,configurable:!0}}),Object.defineProperties(nd.prototype,{_precompute:{value:function(e){this._precomputes.push(e),this._compute()},writable:!0,configurable:!0},_compute:{value:function(){return this._computing||(this._computing=this._computeSoon())},writable:!0,configurable:!0},_computeSoon:{value:function(){return new Promise(nl).then(()=>this._disposed?void 0:this._computeNow())},writable:!0,configurable:!0},_computeNow:{value:nf,writable:!0,configurable:!0},dispose:{value:function(){this._computing=Promise.resolve(),this._disposed=!0,this._variables.forEach(e=>{e._invalidate(),e._version=NaN})},writable:!0,configurable:!0},module:{value:function(e,t=t7){let n;if(void 0===e)return(n=this._init)?(this._init=null,n):new nr(this);if(n=this._modules.get(e))return n;this._init=n=new nr(this),this._modules.set(e,n);try{e(this,t)}finally{this._init=null}return n},writable:!0,configurable:!0},fileAttachments:{value:function(e){return Object.assign(t=>{let n=e(t+="");if(null==n)throw Error(`File not found: ${t}`);if("object"==typeof n&&"url"in n){let{url:r,mimeType:i}=n;return new tp(r,t,i)}return new tp(n,t)},{prototype:tp.prototype})},writable:!0,configurable:!0}})},1163:function(e,t,n){e.exports=n(387)}}]);